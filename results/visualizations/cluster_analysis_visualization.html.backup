<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop 57 èšç±»åˆ†æ - è¿è¥Insightså¯è§†åŒ–</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .header h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header .subtitle {
            color: #666;
            font-size: 1.1em;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card .value {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-card .label {
            color: #666;
            font-size: 0.9em;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab {
            background: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .tab:hover {
            background: #f0f0f0;
        }

        .tab.active {
            background: #667eea;
            color: white;
        }

        .content-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: none;
        }

        .content-section.active {
            display: block;
        }

        .time-range-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .time-range-header h2 {
            color: #667eea;
            font-size: 1.8em;
        }

        .time-range-stats {
            display: flex;
            gap: 20px;
            color: #666;
        }

        .clusters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
        }

        .cluster-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            border-left: 5px solid #667eea;
        }

        .cluster-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .cluster-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .cluster-id {
            font-size: 1.3em;
            font-weight: bold;
            color: #667eea;
        }

        .cluster-size {
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
        }

        .cluster-info {
            margin-bottom: 15px;
        }

        .info-item {
            margin-bottom: 10px;
        }

        .info-label {
            font-weight: bold;
            color: #555;
            margin-right: 8px;
        }

        .info-value {
            color: #333;
        }

        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .tag {
            background: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            color: #667eea;
            border: 1px solid #667eea;
        }

        .recommendations {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }

        .recommendations h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .recommendations ul {
            list-style: none;
            padding-left: 0;
        }

        .recommendations li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            color: #555;
        }

        .recommendations li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: #667eea;
            font-weight: bold;
        }

        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .insights-list {
            list-style: none;
            padding: 0;
        }

        .insights-list li {
            background: #f8f9fa;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .stage-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: bold;
            margin-left: 8px;
        }

        .stage-browsing {
            background: #e3f2fd;
            color: #1976d2;
        }

        .stage-comparing {
            background: #fff3e0;
            color: #f57c00;
        }

        .stage-deciding {
            background: #e8f5e9;
            color: #388e3c;
        }

        .loading {
            text-align: center;
            padding: 50px;
            color: white;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ Shop 57 èšç±»åˆ†ææŠ¥å‘Š</h1>
            <p class="subtitle">åŸºäºGemini Embedding + K-Meansçš„ç”¨æˆ·è¡Œä¸ºèšç±»ä¸è¿è¥Insights</p>
        </div>

        <div class="stats-grid" id="statsGrid">
            <!-- åŠ¨æ€ç”Ÿæˆç»Ÿè®¡å¡ç‰‡ -->
        </div>

        <div class="tabs" id="tabs">
            <!-- åŠ¨æ€ç”Ÿæˆæ ‡ç­¾é¡µ -->
        </div>

        <div id="content">
            <!-- åŠ¨æ€ç”Ÿæˆå†…å®¹åŒºåŸŸ -->
        </div>
    </div>

    <script>
        let reportData = null;

        // åŠ è½½JSONæ•°æ®ï¼ˆå·²åµŒå…¥ï¼‰
        function loadData() {
            try {
                reportData = {"summary": {"title": "Shop 57 èšç±»åˆ†ææŠ¥å‘Š - è¿è¥Insights", "time_ranges_analyzed": ["0-5s", "10-30s", "1m-3m", "30-60s", "5-10s"], "total_time_ranges": 5}, "statistics": {"0-5s": {"total_records": 499, "n_clusters": 5, "avg_cluster_size": 99.8}, "10-30s": {"total_records": 587, "n_clusters": 5, "avg_cluster_size": 117.4}, "1m-3m": {"total_records": 889, "n_clusters": 5, "avg_cluster_size": 177.8}, "30-60s": {"total_records": 631, "n_clusters": 5, "avg_cluster_size": 126.2}, "5-10s": {"total_records": 260, "n_clusters": 5, "avg_cluster_size": 52.0}}, "insights_by_time_range": {"0-5s": [{"cluster": "cluster_2", "time_range": "0-5s", "size": 122, "percentage": 24.4, "user_profile": "å…³æ³¨Karaoke Machine, Wireless Microphones, Product Featuresçš„ç”¨æˆ·ï¼Œå¤„äºbrowsing (æµè§ˆ)é˜¶æ®µ", "key_features": ["10.1\" HD Touchscreen", "Professional Wireless Microphone", "Long-Lasting Battery"], "purchase_stage": "browsing (æµè§ˆ)", "main_interests": ["Karaoke Machine", "Wireless Microphones", "Product Features"], "concerns": ["Warranty and Returns", "None explicitly identified, but user is exploring FAQ sections.", "After-Sale Service"], "use_cases": [], "price_sensitivity": "premium", "recommendations": ["æä¾›äº§å“å¯¹æ¯”å·¥å…·å’Œè¯¦ç»†è§„æ ¼è¯´æ˜ï¼Œå¸®åŠ©ç”¨æˆ·åšå†³ç­–", "å±•ç¤ºç”¨æˆ·è¯„ä»·å’Œè§†é¢‘æ¼”ç¤ºï¼Œå¢å¼ºä¿¡ä»»åº¦", "ä¼˜åŒ–äº§å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå‡å°‘è·³å‡ºç‡", "å¼ºè°ƒé«˜ç«¯åŠŸèƒ½å’Œå“ç‰Œä»·å€¼ï¼Œæä¾›VIPæœåŠ¡"]}, {"cluster": "cluster_0", "time_range": "0-5s", "size": 116, "percentage": 23.2, "user_profile": "å…³æ³¨Wireless Microphones, Karaoke Machines, Karaoke Machineçš„ç”¨æˆ·ï¼Œå¤„äºcomparing (å¯¹æ¯”)é˜¶æ®µ", "key_features": ["Wireless Microphones", "High-Fidelity Sound", "Sound Quality"], "purchase_stage": "comparing (å¯¹æ¯”)", "main_interests": ["Wireless Microphones", "Karaoke Machines", "Karaoke Machine"], "concerns": [], "use_cases": [], "price_sensitivity": "mid-range", "recommendations": ["æä¾›äº§å“å¯¹æ¯”è¡¨æ ¼ï¼Œçªå‡ºå·®å¼‚åŒ–ä¼˜åŠ¿", "å±•ç¤ºä¸“ä¸šè¯„æµ‹å’Œç”¨æˆ·å¯¹æ¯”è§†é¢‘", "æä¾›ç›¸ä¼¼äº§å“æ¨èï¼Œå¸®åŠ©ç”¨æˆ·æ‰¾åˆ°æœ€é€‚åˆçš„äº§å“", "çªå‡ºæ€§ä»·æ¯”ï¼Œæä¾›ä¼˜æƒ ç å’Œæ†ç»‘é”€å”®"]}, {"cluster": "cluster_1", "time_range": "0-5s", "size": 107, "percentage": 21.4, "user_profile": "å…³æ³¨Ikarao Break X1 Karaoke Machine, Ikarao Break X2 Karaoke Machine, Karaoke Systemsçš„ç”¨æˆ·ï¼Œå¤„äºbrowsing (æµè§ˆ)é˜¶æ®µ", "key_features": ["Versatile Connectivity", "High-Fidelity Sound", "10.1\" HD Touchscreen"], "purchase_stage": "browsing (æµè§ˆ)", "main_interests": ["Ikarao Break X1 Karaoke Machine", "Ikarao Break X2 Karaoke Machine", "Karaoke Systems"], "concerns": ["None explicitly identified, but engagement with FAQ suggests seeking detailed information."], "use_cases": [], "price_sensitivity": "premium", "recommendations": ["æä¾›äº§å“å¯¹æ¯”å·¥å…·å’Œè¯¦ç»†è§„æ ¼è¯´æ˜ï¼Œå¸®åŠ©ç”¨æˆ·åšå†³ç­–", "å±•ç¤ºç”¨æˆ·è¯„ä»·å’Œè§†é¢‘æ¼”ç¤ºï¼Œå¢å¼ºä¿¡ä»»åº¦", "ä¼˜åŒ–äº§å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå‡å°‘è·³å‡ºç‡", "å¼ºè°ƒé«˜ç«¯åŠŸèƒ½å’Œå“ç‰Œä»·å€¼ï¼Œæä¾›VIPæœåŠ¡"]}, {"cluster": "cluster_4", "time_range": "0-5s", "size": 104, "percentage": 20.8, "user_profile": "å…³æ³¨Wireless Microphones, Karaoke Machine, Karaoke Machinesçš„ç”¨æˆ·ï¼Œå¤„äºbrowsing (æµè§ˆ)é˜¶æ®µ", "key_features": ["High-Fidelity Sound", "Versatile Connectivity", "Extended Battery Life"], "purchase_stage": "browsing (æµè§ˆ)", "main_interests": ["Wireless Microphones", "Karaoke Machine", "Karaoke Machines"], "concerns": ["Shipping times"], "use_cases": [], "price_sensitivity": "premium", "recommendations": ["æä¾›äº§å“å¯¹æ¯”å·¥å…·å’Œè¯¦ç»†è§„æ ¼è¯´æ˜ï¼Œå¸®åŠ©ç”¨æˆ·åšå†³ç­–", "å±•ç¤ºç”¨æˆ·è¯„ä»·å’Œè§†é¢‘æ¼”ç¤ºï¼Œå¢å¼ºä¿¡ä»»åº¦", "ä¼˜åŒ–äº§å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå‡å°‘è·³å‡ºç‡", "æ˜ç¡®é…é€æ—¶é—´å’Œå…è´¹é…é€æ”¿ç­–", "å¼ºè°ƒé«˜ç«¯åŠŸèƒ½å’Œå“ç‰Œä»·å€¼ï¼Œæä¾›VIPæœåŠ¡"]}, {"cluster": "cluster_3", "time_range": "0-5s", "size": 50, "percentage": 10.0, "user_profile": "å…³æ³¨Karaoke Machine, High-Fidelity Sound, Wireless Microphonesçš„ç”¨æˆ·ï¼Œå¤„äºdeciding (å†³ç­–)é˜¶æ®µ", "key_features": ["High-Fidelity Sound", "10.1\" HD Touchscreen", "Versatile Connectivity"], "purchase_stage": "deciding (å†³ç­–)", "main_interests": ["Karaoke Machine", "High-Fidelity Sound", "Wireless Microphones"], "concerns": ["product quality"], "use_cases": [], "price_sensitivity": "mid-range", "recommendations": ["æä¾›é™æ—¶ä¼˜æƒ æˆ–å…è´¹é…é€ï¼Œä¿ƒè¿›è½¬åŒ–", "å±•ç¤ºåº“å­˜ç´§å¼ ä¿¡æ¯ï¼Œåˆ›é€ ç´§è¿«æ„Ÿ", "æä¾›ç«‹å³è´­ä¹°æŒ‰é’®å’Œå¿«é€Ÿç»“è´¦æµç¨‹", "å¼ºè°ƒäº§å“è´¨é‡ä¿è¯ã€ä¿ä¿®æ”¿ç­–å’Œç”¨æˆ·è¯„ä»·", "çªå‡ºæ€§ä»·æ¯”ï¼Œæä¾›ä¼˜æƒ ç å’Œæ†ç»‘é”€å”®"]}], "10-30s": [{"cluster": "cluster_3", "time_range": "10-30s", "size": 171, "percentage": 29.1, "user_profile": "å…³æ³¨wireless microphones, Karaoke Machine, Wireless Microphoneçš„ç”¨æˆ·ï¼Œå¤„äºbrowsing (æµè§ˆ)é˜¶æ®µ", "key_features": ["Extended Battery Life", "wireless microphones", "Wireless Microphone"], "purchase_stage": "browsing (æµè§ˆ)", "main_interests": ["wireless microphones", "Karaoke Machine", "Wireless Microphone"], "concerns": ["None explicitly stated, but engagement with support and FAQs suggests potential pre-purchase research."], "use_cases": [], "price_sensitivity": "premium", "recommendations": ["æä¾›äº§å“å¯¹æ¯”å·¥å…·å’Œè¯¦ç»†è§„æ ¼è¯´æ˜ï¼Œå¸®åŠ©ç”¨æˆ·åšå†³ç­–", "å±•ç¤ºç”¨æˆ·è¯„ä»·å’Œè§†é¢‘æ¼”ç¤ºï¼Œå¢å¼ºä¿¡ä»»åº¦", "ä¼˜åŒ–äº§å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå‡å°‘è·³å‡ºç‡", "å¼ºè°ƒé«˜ç«¯åŠŸèƒ½å’Œå“ç‰Œä»·å€¼ï¼Œæä¾›VIPæœåŠ¡"]}, {"cluster": "cluster_1", "time_range": "10-30s", "size": 135, "percentage": 23.0, "user_profile": "å…³æ³¨Karaoke Machine, High-Fidelity Sound, Wireless Microphonesçš„ç”¨æˆ·ï¼Œå¤„äºbrowsing (æµè§ˆ)é˜¶æ®µ", "key_features": ["High-Fidelity Sound", "Versatile Connectivity", "10.1\" HD Touchscreen"], "purchase_stage": "browsing (æµè§ˆ)", "main_interests": ["Karaoke Machine", "High-Fidelity Sound", "Wireless Microphones"], "concerns": [], "use_cases": [], "price_sensitivity": "mid-range", "recommendations": ["æä¾›äº§å“å¯¹æ¯”å·¥å…·å’Œè¯¦ç»†è§„æ ¼è¯´æ˜ï¼Œå¸®åŠ©ç”¨æˆ·åšå†³ç­–", "å±•ç¤ºç”¨æˆ·è¯„ä»·å’Œè§†é¢‘æ¼”ç¤ºï¼Œå¢å¼ºä¿¡ä»»åº¦", "ä¼˜åŒ–äº§å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå‡å°‘è·³å‡ºç‡", "çªå‡ºæ€§ä»·æ¯”ï¼Œæä¾›ä¼˜æƒ ç å’Œæ†ç»‘é”€å”®"]}, {"cluster": "cluster_0", "time_range": "10-30s", "size": 116, "percentage": 19.8, "user_profile": "å…³æ³¨Karaoke Machines, Wireless Microphones, Karaoke Machineçš„ç”¨æˆ·ï¼Œå¤„äºcomparing (å¯¹æ¯”)é˜¶æ®µ", "key_features": ["Wireless Microphones", "High-Fidelity Sound", "10.1\" HD Touchscreen"], "purchase_stage": "comparing (å¯¹æ¯”)", "main_interests": ["Karaoke Machines", "Wireless Microphones", "Karaoke Machine"], "concerns": [], "use_cases": [], "price_sensitivity": "mid-range", "recommendations": ["æä¾›äº§å“å¯¹æ¯”è¡¨æ ¼ï¼Œçªå‡ºå·®å¼‚åŒ–ä¼˜åŠ¿", "å±•ç¤ºä¸“ä¸šè¯„æµ‹å’Œç”¨æˆ·å¯¹æ¯”è§†é¢‘", "æä¾›ç›¸ä¼¼äº§å“æ¨èï¼Œå¸®åŠ©ç”¨æˆ·æ‰¾åˆ°æœ€é€‚åˆçš„äº§å“", "çªå‡ºæ€§ä»·æ¯”ï¼Œæä¾›ä¼˜æƒ ç å’Œæ†ç»‘é”€å”®"]}, {"cluster": "cluster_2", "time_range": "10-30s", "size": 107, "percentage": 18.2, "user_profile": "å…³æ³¨Ikarao Shell S1 Karaoke Machine, Wireless Microphone, Karaoke machinesçš„ç”¨æˆ·ï¼Œå¤„äºbrowsing (æµè§ˆ)é˜¶æ®µ", "key_features": ["High-Fidelity Sound", "Versatile Connectivity", "10.1\" HD Touchscreen"], "purchase_stage": "browsing (æµè§ˆ)", "main_interests": ["Ikarao Shell S1 Karaoke Machine", "Wireless Microphone", "Karaoke machines"], "concerns": ["Karafun activation and product differentiation (Break X1 vs X2)"], "use_cases": [], "price_sensitivity": "premium", "recommendations": ["æä¾›äº§å“å¯¹æ¯”å·¥å…·å’Œè¯¦ç»†è§„æ ¼è¯´æ˜ï¼Œå¸®åŠ©ç”¨æˆ·åšå†³ç­–", "å±•ç¤ºç”¨æˆ·è¯„ä»·å’Œè§†é¢‘æ¼”ç¤ºï¼Œå¢å¼ºä¿¡ä»»åº¦", "ä¼˜åŒ–äº§å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå‡å°‘è·³å‡ºç‡", "å¼ºè°ƒé«˜ç«¯åŠŸèƒ½å’Œå“ç‰Œä»·å€¼ï¼Œæä¾›VIPæœåŠ¡"]}, {"cluster": "cluster_4", "time_range": "10-30s", "size": 58, "percentage": 9.9, "user_profile": "å…³æ³¨Wireless Microphones, Karaoke Machines, Touchscreen Displaysçš„ç”¨æˆ·ï¼Œå¤„äºdeciding (å†³ç­–)é˜¶æ®µ", "key_features": ["10.1\" HD Touchscreen", "High-Fidelity Sound", "Wireless Microphones"], "purchase_stage": "deciding (å†³ç­–)", "main_interests": ["Wireless Microphones", "Karaoke Machines", "Touchscreen Displays"], "concerns": ["User is actively seeking information about product manuals, indicating a desire to understand usage and potentially troubleshoot, which is a common step before a purchase decision."], "use_cases": [], "price_sensitivity": "mid-range", "recommendations": ["æä¾›é™æ—¶ä¼˜æƒ æˆ–å…è´¹é…é€ï¼Œä¿ƒè¿›è½¬åŒ–", "å±•ç¤ºåº“å­˜ç´§å¼ ä¿¡æ¯ï¼Œåˆ›é€ ç´§è¿«æ„Ÿ", "æä¾›ç«‹å³è´­ä¹°æŒ‰é’®å’Œå¿«é€Ÿç»“è´¦æµç¨‹", "çªå‡ºæ€§ä»·æ¯”ï¼Œæä¾›ä¼˜æƒ ç å’Œæ†ç»‘é”€å”®"]}], "1m-3m": [{"cluster": "cluster_4", "time_range": "1m-3m", "size": 272, "percentage": 30.6, "user_profile": "å…³æ³¨Karaoke Machine, Karaoke Machines, High-Fidelity Soundçš„ç”¨æˆ·ï¼Œå¤„äºbrowsing (æµè§ˆ)é˜¶æ®µ", "key_features": ["portable", "wireless mics", "Extended Battery Life"], "purchase_stage": "browsing (æµè§ˆ)", "main_interests": ["Karaoke Machine", "Karaoke Machines", "High-Fidelity Sound"], "concerns": ["product usage, features, and app integration", "product usage, charging, shipping, and potential issues like damage or incorrect items", "Product specifications and functionality"], "use_cases": [], "price_sensitivity": "mid-range", "recommendations": ["æä¾›äº§å“å¯¹æ¯”å·¥å…·å’Œè¯¦ç»†è§„æ ¼è¯´æ˜ï¼Œå¸®åŠ©ç”¨æˆ·åšå†³ç­–", "å±•ç¤ºç”¨æˆ·è¯„ä»·å’Œè§†é¢‘æ¼”ç¤ºï¼Œå¢å¼ºä¿¡ä»»åº¦", "ä¼˜åŒ–äº§å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå‡å°‘è·³å‡ºç‡", "çªå‡ºæ€§ä»·æ¯”ï¼Œæä¾›ä¼˜æƒ ç å’Œæ†ç»‘é”€å”®"]}, {"cluster": "cluster_1", "time_range": "1m-3m", "size": 227, "percentage": 25.5, "user_profile": "å…³æ³¨Wireless Microphones, Karaoke machine, Wireless microphoneçš„ç”¨æˆ·ï¼Œå¤„äºbrowsing (æµè§ˆ)é˜¶æ®µ", "key_features": ["10.1\" HD Touchscreen", "High-Fidelity Sound", "Professional Wireless Microphone"], "purchase_stage": "browsing (æµè§ˆ)", "main_interests": ["Wireless Microphones", "Karaoke machine", "Wireless microphone"], "concerns": ["product functionality and support"], "use_cases": [], "price_sensitivity": "premium", "recommendations": ["æä¾›äº§å“å¯¹æ¯”å·¥å…·å’Œè¯¦ç»†è§„æ ¼è¯´æ˜ï¼Œå¸®åŠ©ç”¨æˆ·åšå†³ç­–", "å±•ç¤ºç”¨æˆ·è¯„ä»·å’Œè§†é¢‘æ¼”ç¤ºï¼Œå¢å¼ºä¿¡ä»»åº¦", "ä¼˜åŒ–äº§å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå‡å°‘è·³å‡ºç‡", "å¼ºè°ƒé«˜ç«¯åŠŸèƒ½å’Œå“ç‰Œä»·å€¼ï¼Œæä¾›VIPæœåŠ¡"]}, {"cluster": "cluster_3", "time_range": "1m-3m", "size": 149, "percentage": 16.8, "user_profile": "å…³æ³¨Karaoke Machine, Wireless Microphones, High-Fidelity Soundçš„ç”¨æˆ·ï¼Œå¤„äºdeciding (å†³ç­–)é˜¶æ®µ", "key_features": ["10.1\" HD Touchscreen", "High-Fidelity Sound", "Versatile Connectivity"], "purchase_stage": "deciding (å†³ç­–)", "main_interests": ["Karaoke Machine", "Wireless Microphones", "High-Fidelity Sound"], "concerns": [], "use_cases": [], "price_sensitivity": "mid-range", "recommendations": ["æä¾›é™æ—¶ä¼˜æƒ æˆ–å…è´¹é…é€ï¼Œä¿ƒè¿›è½¬åŒ–", "å±•ç¤ºåº“å­˜ç´§å¼ ä¿¡æ¯ï¼Œåˆ›é€ ç´§è¿«æ„Ÿ", "æä¾›ç«‹å³è´­ä¹°æŒ‰é’®å’Œå¿«é€Ÿç»“è´¦æµç¨‹", "çªå‡ºæ€§ä»·æ¯”ï¼Œæä¾›ä¼˜æƒ ç å’Œæ†ç»‘é”€å”®"]}, {"cluster": "cluster_2", "time_range": "1m-3m", "size": 139, "percentage": 15.6, "user_profile": "å…³æ³¨Ikarao Shell S2 Karaoke Machine, Wireless Microphones, portable karaoke machineçš„ç”¨æˆ·ï¼Œå¤„äºbrowsing (æµè§ˆ)é˜¶æ®µ", "key_features": ["Wireless Microphones", "Bluetooth Connectivity", "High-Fidelity Sound"], "purchase_stage": "browsing (æµè§ˆ)", "main_interests": ["Ikarao Shell S2 Karaoke Machine", "Wireless Microphones", "portable karaoke machine"], "concerns": ["Warranty information and product registration"], "use_cases": [], "price_sensitivity": "mid-range", "recommendations": ["æä¾›äº§å“å¯¹æ¯”å·¥å…·å’Œè¯¦ç»†è§„æ ¼è¯´æ˜ï¼Œå¸®åŠ©ç”¨æˆ·åšå†³ç­–", "å±•ç¤ºç”¨æˆ·è¯„ä»·å’Œè§†é¢‘æ¼”ç¤ºï¼Œå¢å¼ºä¿¡ä»»åº¦", "ä¼˜åŒ–äº§å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå‡å°‘è·³å‡ºç‡", "çªå‡ºæ€§ä»·æ¯”ï¼Œæä¾›ä¼˜æƒ ç å’Œæ†ç»‘é”€å”®"]}, {"cluster": "cluster_0", "time_range": "1m-3m", "size": 102, "percentage": 11.5, "user_profile": "å…³æ³¨Karaoke Machines, Wireless Microphones, Portable Karaoke Systemsçš„ç”¨æˆ·ï¼Œå¤„äºcomparing (å¯¹æ¯”)é˜¶æ®µ", "key_features": ["Wireless Microphones", "10.1\" HD Touchscreen", "Sound Quality"], "purchase_stage": "comparing (å¯¹æ¯”)", "main_interests": ["Karaoke Machines", "Wireless Microphones", "Portable Karaoke Systems"], "concerns": [], "use_cases": [], "price_sensitivity": "mid-range", "recommendations": ["æä¾›äº§å“å¯¹æ¯”è¡¨æ ¼ï¼Œçªå‡ºå·®å¼‚åŒ–ä¼˜åŠ¿", "å±•ç¤ºä¸“ä¸šè¯„æµ‹å’Œç”¨æˆ·å¯¹æ¯”è§†é¢‘", "æä¾›ç›¸ä¼¼äº§å“æ¨èï¼Œå¸®åŠ©ç”¨æˆ·æ‰¾åˆ°æœ€é€‚åˆçš„äº§å“", "çªå‡ºæ€§ä»·æ¯”ï¼Œæä¾›ä¼˜æƒ ç å’Œæ†ç»‘é”€å”®"]}], "30-60s": [{"cluster": "cluster_1", "time_range": "30-60s", "size": 183, "percentage": 29.0, "user_profile": "å…³æ³¨Wireless Microphones, Karaoke Machines, Touchscreen Displaysçš„ç”¨æˆ·ï¼Œå¤„äºbrowsing (æµè§ˆ)é˜¶æ®µ", "key_features": ["Versatile Connectivity", "13.3-inch HD Touchscreen", "High-Fidelity Sound"], "purchase_stage": "browsing (æµè§ˆ)", "main_interests": ["Wireless Microphones", "Karaoke Machines", "Touchscreen Displays"], "concerns": [], "use_cases": [], "price_sensitivity": "mid-range", "recommendations": ["æä¾›äº§å“å¯¹æ¯”å·¥å…·å’Œè¯¦ç»†è§„æ ¼è¯´æ˜ï¼Œå¸®åŠ©ç”¨æˆ·åšå†³ç­–", "å±•ç¤ºç”¨æˆ·è¯„ä»·å’Œè§†é¢‘æ¼”ç¤ºï¼Œå¢å¼ºä¿¡ä»»åº¦", "ä¼˜åŒ–äº§å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå‡å°‘è·³å‡ºç‡", "çªå‡ºæ€§ä»·æ¯”ï¼Œæä¾›ä¼˜æƒ ç å’Œæ†ç»‘é”€å”®"]}, {"cluster": "cluster_4", "time_range": "30-60s", "size": 181, "percentage": 28.7, "user_profile": "å…³æ³¨Karaoke Machine, Wireless Microphones, Touchscreen Displayçš„ç”¨æˆ·ï¼Œå¤„äºbrowsing (æµè§ˆ)é˜¶æ®µ", "key_features": ["10.1\" HD Touchscreen", "Professional Wireless Microphone", "High-Fidelity Sound"], "purchase_stage": "browsing (æµè§ˆ)", "main_interests": ["Karaoke Machine", "Wireless Microphones", "Touchscreen Display"], "concerns": ["Warranty extension process"], "use_cases": [], "price_sensitivity": "premium", "recommendations": ["æä¾›äº§å“å¯¹æ¯”å·¥å…·å’Œè¯¦ç»†è§„æ ¼è¯´æ˜ï¼Œå¸®åŠ©ç”¨æˆ·åšå†³ç­–", "å±•ç¤ºç”¨æˆ·è¯„ä»·å’Œè§†é¢‘æ¼”ç¤ºï¼Œå¢å¼ºä¿¡ä»»åº¦", "ä¼˜åŒ–äº§å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå‡å°‘è·³å‡ºç‡", "å¼ºè°ƒé«˜ç«¯åŠŸèƒ½å’Œå“ç‰Œä»·å€¼ï¼Œæä¾›VIPæœåŠ¡"]}, {"cluster": "cluster_3", "time_range": "30-60s", "size": 107, "percentage": 17.0, "user_profile": "å…³æ³¨Karaoke Machine, Ikarao Break X1 Karaoke Machine, Karaoke Systemsçš„ç”¨æˆ·ï¼Œå¤„äºbrowsing (æµè§ˆ)é˜¶æ®µ", "key_features": ["Versatile Connectivity", "10.1\" HD Touchscreen", "High-Fidelity Sound"], "purchase_stage": "browsing (æµè§ˆ)", "main_interests": ["Karaoke Machine", "Ikarao Break X1 Karaoke Machine", "Karaoke Systems"], "concerns": ["None explicitly stated, but the user viewed a higher-priced item first and then a mid-range one."], "use_cases": [], "price_sensitivity": "premium", "recommendations": ["æä¾›äº§å“å¯¹æ¯”å·¥å…·å’Œè¯¦ç»†è§„æ ¼è¯´æ˜ï¼Œå¸®åŠ©ç”¨æˆ·åšå†³ç­–", "å±•ç¤ºç”¨æˆ·è¯„ä»·å’Œè§†é¢‘æ¼”ç¤ºï¼Œå¢å¼ºä¿¡ä»»åº¦", "ä¼˜åŒ–äº§å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå‡å°‘è·³å‡ºç‡", "çªå‡ºæ€§ä»·æ¯”å’Œä¿ƒé”€ä¿¡æ¯ï¼Œæä¾›åˆ†æœŸä»˜æ¬¾é€‰é¡¹", "å¼ºè°ƒé«˜ç«¯åŠŸèƒ½å’Œå“ç‰Œä»·å€¼ï¼Œæä¾›VIPæœåŠ¡"]}, {"cluster": "cluster_0", "time_range": "30-60s", "size": 80, "percentage": 12.7, "user_profile": "å…³æ³¨Karaoke Machines, Wireless Microphones, Wireless microphonesçš„ç”¨æˆ·ï¼Œå¤„äºcomparing (å¯¹æ¯”)é˜¶æ®µ", "key_features": ["Wireless microphones", "High-Fidelity Sound", "Extended Battery Life"], "purchase_stage": "comparing (å¯¹æ¯”)", "main_interests": ["Karaoke Machines", "Wireless Microphones", "Wireless microphones"], "concerns": [], "use_cases": [], "price_sensitivity": "mid-range", "recommendations": ["æä¾›äº§å“å¯¹æ¯”è¡¨æ ¼ï¼Œçªå‡ºå·®å¼‚åŒ–ä¼˜åŠ¿", "å±•ç¤ºä¸“ä¸šè¯„æµ‹å’Œç”¨æˆ·å¯¹æ¯”è§†é¢‘", "æä¾›ç›¸ä¼¼äº§å“æ¨èï¼Œå¸®åŠ©ç”¨æˆ·æ‰¾åˆ°æœ€é€‚åˆçš„äº§å“", "çªå‡ºæ€§ä»·æ¯”ï¼Œæä¾›ä¼˜æƒ ç å’Œæ†ç»‘é”€å”®"]}, {"cluster": "cluster_2", "time_range": "30-60s", "size": 80, "percentage": 12.7, "user_profile": "å…³æ³¨Karaoke Machine, Wireless Microphones, Wireless Microphoneçš„ç”¨æˆ·ï¼Œå¤„äºdeciding (å†³ç­–)é˜¶æ®µ", "key_features": ["10.1\" HD Touchscreen", "High-Fidelity Sound", "Professional-Grade Wireless Microphone"], "purchase_stage": "deciding (å†³ç­–)", "main_interests": ["Karaoke Machine", "Wireless Microphones", "Wireless Microphone"], "concerns": [], "use_cases": [], "price_sensitivity": "premium", "recommendations": ["æä¾›é™æ—¶ä¼˜æƒ æˆ–å…è´¹é…é€ï¼Œä¿ƒè¿›è½¬åŒ–", "å±•ç¤ºåº“å­˜ç´§å¼ ä¿¡æ¯ï¼Œåˆ›é€ ç´§è¿«æ„Ÿ", "æä¾›ç«‹å³è´­ä¹°æŒ‰é’®å’Œå¿«é€Ÿç»“è´¦æµç¨‹", "å¼ºè°ƒé«˜ç«¯åŠŸèƒ½å’Œå“ç‰Œä»·å€¼ï¼Œæä¾›VIPæœåŠ¡"]}], "5-10s": [{"cluster": "cluster_1", "time_range": "5-10s", "size": 82, "percentage": 31.5, "user_profile": "å…³æ³¨Karaoke Machine, High-Fidelity Sound, Touchscreen Displayçš„ç”¨æˆ·ï¼Œå¤„äºbrowsing (æµè§ˆ)é˜¶æ®µ", "key_features": ["10.1\" HD Touchscreen", "Versatile Connectivity", "High-Fidelity Sound"], "purchase_stage": "browsing (æµè§ˆ)", "main_interests": ["Karaoke Machine", "High-Fidelity Sound", "Touchscreen Display"], "concerns": [], "use_cases": [], "price_sensitivity": "mid-range", "recommendations": ["æä¾›äº§å“å¯¹æ¯”å·¥å…·å’Œè¯¦ç»†è§„æ ¼è¯´æ˜ï¼Œå¸®åŠ©ç”¨æˆ·åšå†³ç­–", "å±•ç¤ºç”¨æˆ·è¯„ä»·å’Œè§†é¢‘æ¼”ç¤ºï¼Œå¢å¼ºä¿¡ä»»åº¦", "ä¼˜åŒ–äº§å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå‡å°‘è·³å‡ºç‡", "çªå‡ºæ€§ä»·æ¯”ï¼Œæä¾›ä¼˜æƒ ç å’Œæ†ç»‘é”€å”®"]}, {"cluster": "cluster_2", "time_range": "5-10s", "size": 62, "percentage": 23.8, "user_profile": "å…³æ³¨Karaoke Machines, Wireless Microphones, High-Fidelity Soundçš„ç”¨æˆ·ï¼Œå¤„äºcomparing (å¯¹æ¯”)é˜¶æ®µ", "key_features": ["Battery Life", "High-Fidelity Sound", "Sound Quality"], "purchase_stage": "comparing (å¯¹æ¯”)", "main_interests": ["Karaoke Machines", "Wireless Microphones", "High-Fidelity Sound"], "concerns": [], "use_cases": [], "price_sensitivity": "mid-range", "recommendations": ["æä¾›äº§å“å¯¹æ¯”è¡¨æ ¼ï¼Œçªå‡ºå·®å¼‚åŒ–ä¼˜åŠ¿", "å±•ç¤ºä¸“ä¸šè¯„æµ‹å’Œç”¨æˆ·å¯¹æ¯”è§†é¢‘", "æä¾›ç›¸ä¼¼äº§å“æ¨èï¼Œå¸®åŠ©ç”¨æˆ·æ‰¾åˆ°æœ€é€‚åˆçš„äº§å“", "çªå‡ºæ€§ä»·æ¯”ï¼Œæä¾›ä¼˜æƒ ç å’Œæ†ç»‘é”€å”®"]}, {"cluster": "cluster_0", "time_range": "5-10s", "size": 61, "percentage": 23.5, "user_profile": "å…³æ³¨Ikarao Shell S1 Karaoke Machine, Ikarao Break X2 Karaoke Machine, Ikarao Break X1 Karaoke Machineçš„ç”¨æˆ·ï¼Œå¤„äºbrowsing (æµè§ˆ)é˜¶æ®µ", "key_features": ["10.1\" HD Touchscreen", "Wireless Microphone", "Versatile Connectivity"], "purchase_stage": "browsing (æµè§ˆ)", "main_interests": ["Ikarao Shell S1 Karaoke Machine", "Ikarao Break X2 Karaoke Machine", "Ikarao Break X1 Karaoke Machine"], "concerns": ["Purchase platform (Amazon vs. Ikarao Store)"], "use_cases": [], "price_sensitivity": "mid-range", "recommendations": ["æä¾›äº§å“å¯¹æ¯”å·¥å…·å’Œè¯¦ç»†è§„æ ¼è¯´æ˜ï¼Œå¸®åŠ©ç”¨æˆ·åšå†³ç­–", "å±•ç¤ºç”¨æˆ·è¯„ä»·å’Œè§†é¢‘æ¼”ç¤ºï¼Œå¢å¼ºä¿¡ä»»åº¦", "ä¼˜åŒ–äº§å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå‡å°‘è·³å‡ºç‡", "çªå‡ºæ€§ä»·æ¯”ï¼Œæä¾›ä¼˜æƒ ç å’Œæ†ç»‘é”€å”®"]}, {"cluster": "cluster_4", "time_range": "5-10s", "size": 34, "percentage": 13.1, "user_profile": "å…³æ³¨Karaoke Machine, Karaoke System, Wireless Microphonesçš„ç”¨æˆ·ï¼Œå¤„äºbrowsing (æµè§ˆ)é˜¶æ®µ", "key_features": ["10.1\" HD Touchscreen", "High-Fidelity Sound", "Versatile Connectivity"], "purchase_stage": "browsing (æµè§ˆ)", "main_interests": ["Karaoke Machine", "Karaoke System", "Wireless Microphones"], "concerns": ["Shipping cost (indicated by entering shipping details)", "Product warranty and registration process", "Product functionality and usage details"], "use_cases": [], "price_sensitivity": "mid-range", "recommendations": ["æä¾›äº§å“å¯¹æ¯”å·¥å…·å’Œè¯¦ç»†è§„æ ¼è¯´æ˜ï¼Œå¸®åŠ©ç”¨æˆ·åšå†³ç­–", "å±•ç¤ºç”¨æˆ·è¯„ä»·å’Œè§†é¢‘æ¼”ç¤ºï¼Œå¢å¼ºä¿¡ä»»åº¦", "ä¼˜åŒ–äº§å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œå‡å°‘è·³å‡ºç‡", "çªå‡ºæ€§ä»·æ¯”å’Œä¿ƒé”€ä¿¡æ¯ï¼Œæä¾›åˆ†æœŸä»˜æ¬¾é€‰é¡¹", "çªå‡ºæ€§ä»·æ¯”ï¼Œæä¾›ä¼˜æƒ ç å’Œæ†ç»‘é”€å”®"]}, {"cluster": "cluster_3", "time_range": "5-10s", "size": 21, "percentage": 8.1, "user_profile": "å…³æ³¨Wireless Microphones, Karaoke Machines, Wireless microphonesçš„ç”¨æˆ·ï¼Œå¤„äºdeciding (å†³ç­–)é˜¶æ®µ", "key_features": ["Versatile Connectivity", "Professional Wireless Microphone", "High-Fidelity Sound"], "purchase_stage": "deciding (å†³ç­–)", "main_interests": ["Wireless Microphones", "Karaoke Machines", "Wireless microphones"], "concerns": [], "use_cases": [], "price_sensitivity": "mid-range", "recommendations": ["æä¾›é™æ—¶ä¼˜æƒ æˆ–å…è´¹é…é€ï¼Œä¿ƒè¿›è½¬åŒ–", "å±•ç¤ºåº“å­˜ç´§å¼ ä¿¡æ¯ï¼Œåˆ›é€ ç´§è¿«æ„Ÿ", "æä¾›ç«‹å³è´­ä¹°æŒ‰é’®å’Œå¿«é€Ÿç»“è´¦æµç¨‹", "çªå‡ºæ€§ä»·æ¯”ï¼Œæä¾›ä¼˜æƒ ç å’Œæ†ç»‘é”€å”®"]}]}, "cross_range_insights": {"stage_distribution": {"browsing (æµè§ˆ)": 15, "comparing (å¯¹æ¯”)": 5, "deciding (å†³ç­–)": 5}, "key_findings": ["ä¸åŒæ—¶é—´èŒƒå›´çš„ç”¨æˆ·è´­ä¹°é˜¶æ®µåˆ†å¸ƒå­˜åœ¨å·®å¼‚", "çŸ­æ—¶é—´è®¿é—®(0-5s, 5-10s)çš„ç”¨æˆ·å¤šä¸ºæµè§ˆé˜¶æ®µ", "é•¿æ—¶é—´è®¿é—®(1m-3m, 3m+)çš„ç”¨æˆ·æ›´å¯èƒ½å¤„äºå†³ç­–é˜¶æ®µ"]}};
                renderPage();
            } catch (error) {
                document.body.innerHTML = `
                    <div class="container">
                        <div class="header">
                            <h1>âŒ æ•°æ®åŠ è½½å¤±è´¥</h1>
                            <p style="color: red; margin-top: 10px;">${error.message}</p>
                        </div>
                    </div>
                `;
            }
        }

        function renderPage() {
            renderStats();
            renderTabs();
            renderContent();
        }

        function renderStats() {
            const stats = reportData.statistics;
            const totalRecords = Object.values(stats).reduce((sum, s) => sum + s.total_records, 0);
            const totalClusters = Object.values(stats).reduce((sum, s) => sum + s.n_clusters, 0);
            const timeRanges = Object.keys(stats).length;

            const statsGrid = document.getElementById('statsGrid');
            statsGrid.innerHTML = `
                <div class="stat-card">
                    <div class="value">${timeRanges}</div>
                    <div class="label">æ—¶é—´èŒƒå›´</div>
                </div>
                <div class="stat-card">
                    <div class="value">${totalRecords.toLocaleString()}</div>
                    <div class="label">æ€»è®°å½•æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="value">${totalClusters}</div>
                    <div class="label">æ€»èšç±»æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="value">${Math.round(totalRecords / totalClusters)}</div>
                    <div class="label">å¹³å‡èšç±»å¤§å°</div>
                </div>
            `;
        }

        function renderTabs() {
            const tabs = document.getElementById('tabs');
            const timeRanges = Object.keys(reportData.insights_by_time_range);
            
            tabs.innerHTML = timeRanges.map((tr, index) => `
                <button class="tab ${index === 0 ? 'active' : ''}" onclick="switchTab('${tr}')">
                    ${tr}
                </button>
            `).join('') + `
                <button class="tab" onclick="switchTab('summary')">
                    è·¨èŒƒå›´æ´å¯Ÿ
                </button>
            `;
        }

        function renderContent() {
            const content = document.getElementById('content');
            const timeRanges = Object.keys(reportData.insights_by_time_range);
            const stats = reportData.statistics;

            let html = '';

            // æ¸²æŸ“å„æ—¶é—´èŒƒå›´çš„å†…å®¹
            timeRanges.forEach((tr, index) => {
                const insights = reportData.insights_by_time_range[tr];
                const stat = stats[tr];
                
                html += `
                    <div class="content-section ${index === 0 ? 'active' : ''}" id="section-${tr}">
                        <div class="time-range-header">
                            <h2>${tr} æ—¶é—´èŒƒå›´</h2>
                            <div class="time-range-stats">
                                <span>æ€»è®°å½•: ${stat.total_records.toLocaleString()}</span>
                                <span>èšç±»æ•°: ${stat.n_clusters}</span>
                                <span>å¹³å‡å¤§å°: ${stat.avg_cluster_size}</span>
                            </div>
                        </div>
                        <div class="clusters-grid">
                            ${insights.map(insight => renderClusterCard(insight)).join('')}
                        </div>
                    </div>
                `;
            });

            // æ¸²æŸ“è·¨èŒƒå›´æ´å¯Ÿ
            html += `
                <div class="content-section" id="section-summary">
                    <h2 style="color: #667eea; margin-bottom: 20px;">è·¨æ—¶é—´èŒƒå›´æ´å¯Ÿ</h2>
                    
                    <div class="chart-container">
                        <h3 style="margin-bottom: 15px;">è´­ä¹°é˜¶æ®µåˆ†å¸ƒ</h3>
                        <canvas id="stageChart"></canvas>
                    </div>

                    <div class="chart-container">
                        <h3 style="margin-bottom: 15px;">å„æ—¶é—´èŒƒå›´è®°å½•æ•°åˆ†å¸ƒ</h3>
                        <canvas id="recordsChart"></canvas>
                    </div>

                    <div>
                        <h3 style="margin-bottom: 15px; color: #667eea;">å…³é”®å‘ç°</h3>
                        <ul class="insights-list">
                            ${reportData.cross_range_insights.key_findings.map(finding => `
                                <li>${finding}</li>
                            `).join('')}
                        </ul>
                    </div>
                </div>
            `;

            content.innerHTML = html;

            // æ¸²æŸ“å›¾è¡¨
            if (document.getElementById('section-summary')) {
                renderCharts();
            }
        }

        function renderClusterCard(insight) {
            const stageClass = {
                'browsing (æµè§ˆ)': 'stage-browsing',
                'comparing (å¯¹æ¯”)': 'stage-comparing',
                'deciding (å†³ç­–)': 'stage-deciding'
            }[insight.purchase_stage] || '';

            return `
                <div class="cluster-card">
                    <div class="cluster-header">
                        <span class="cluster-id">${insight.cluster}</span>
                        <span class="cluster-size">${insight.size} æ¡ (${insight.percentage}%)</span>
                    </div>
                    
                    <div class="cluster-info">
                        <div class="info-item">
                            <span class="info-label">ç”¨æˆ·ç”»åƒ:</span>
                            <span class="info-value">${insight.user_profile}</span>
                        </div>
                        
                        <div class="info-item">
                            <span class="info-label">è´­ä¹°é˜¶æ®µ:</span>
                            <span class="info-value">
                                ${insight.purchase_stage}
                                <span class="stage-badge ${stageClass}">${insight.purchase_stage.split(' ')[0]}</span>
                            </span>
                        </div>
                        
                        <div class="info-item">
                            <span class="info-label">ä»·æ ¼æ•æ„Ÿåº¦:</span>
                            <span class="info-value">${insight.price_sensitivity}</span>
                        </div>
                        
                        ${insight.main_interests.length > 0 ? `
                            <div class="info-item">
                                <span class="info-label">ä¸»è¦å…´è¶£:</span>
                                <div class="tags">
                                    ${insight.main_interests.map(interest => `
                                        <span class="tag">${interest}</span>
                                    `).join('')}
                                </div>
                            </div>
                        ` : ''}
                        
                        ${insight.key_features.length > 0 ? `
                            <div class="info-item">
                                <span class="info-label">å…³é”®ç‰¹å¾:</span>
                                <div class="tags">
                                    ${insight.key_features.map(feature => `
                                        <span class="tag">${feature}</span>
                                    `).join('')}
                                </div>
                            </div>
                        ` : ''}
                        
                        ${insight.concerns && insight.concerns.length > 0 ? `
                            <div class="info-item">
                                <span class="info-label">å…³æ³¨ç‚¹:</span>
                                <span class="info-value">${insight.concerns.join(', ')}</span>
                            </div>
                        ` : ''}
                    </div>
                    
                    <div class="recommendations">
                        <h4>ğŸ’¡ è¿è¥å»ºè®®</h4>
                        <ul>
                            ${insight.recommendations.map(rec => `
                                <li>${rec}</li>
                            `).join('')}
                        </ul>
                    </div>
                </div>
            `;
        }

        function renderCharts() {
            // è´­ä¹°é˜¶æ®µåˆ†å¸ƒå›¾è¡¨
            const stageData = reportData.cross_range_insights.stage_distribution;
            const stageCtx = document.getElementById('stageChart').getContext('2d');
            new Chart(stageCtx, {
                type: 'doughnut',
                data: {
                    labels: Object.keys(stageData),
                    datasets: [{
                        data: Object.values(stageData),
                        backgroundColor: [
                            '#667eea',
                            '#f093fb',
                            '#4facfe',
                            '#00f2fe'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            // å„æ—¶é—´èŒƒå›´è®°å½•æ•°åˆ†å¸ƒ
            const stats = reportData.statistics;
            const recordsCtx = document.getElementById('recordsChart').getContext('2d');
            new Chart(recordsCtx, {
                type: 'bar',
                data: {
                    labels: Object.keys(stats),
                    datasets: [{
                        label: 'è®°å½•æ•°',
                        data: Object.values(stats).map(s => s.total_records),
                        backgroundColor: '#667eea'
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        function switchTab(tabName) {
            // æ›´æ–°æ ‡ç­¾é¡µçŠ¶æ€
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // æ›´æ–°å†…å®¹åŒºåŸŸ
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(`section-${tabName}`).classList.add('active');
        }

        // é¡µé¢åŠ è½½æ—¶åŠ è½½æ•°æ®
        loadData();
    </script>
</body>
</html>

